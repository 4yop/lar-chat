(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-my-my"],{"0634":function(e,t,n){e.exports=n.p+"static/img/2.d2e10cb3.jpg"},1438:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n("1ed1"),a=n("a9e6"),i=(n("b512"),{data:function(){return{userInfo:{avatar:"",name:"",email:""},groupList:[{title:"收藏",color:"#409eff",icon:"star"},{title:"相册",color:"#409eff",icon:"photo"},{title:"卡包",color:"#409eff",icon:"coupon"},{title:"表情",color:"#ff9900",icon:"heart"}]}},onLoad:function(t){e.log(t),uni.getStorageSync("_token"),this.userInfo=uni.getStorageSync("userInfo"),this.getUserInfo()},onShow:function(){this.getUserInfo()},methods:{logout:function(){var e={url:"logout",type:"POST",sCallback:function(e){uni.removeStorageSync("_token"),uni.redirectTo({url:"/pages/my/login"})}};(0,o.http_request)(e)},getUserInfo:function(){var e=this,t={url:"user",noToast:!0,sCallback:function(t){if(1!=t.code)return uni.removeStorageSync("_token"),void uni.showToast({title:t.msg?t.msg:"error",icon:"none",success:function(){setTimeout((function(){uni.redirectTo({url:"/pages/my/login"})}),1e3)}});e.userInfo=t.data,e.userInfo.avatar=(0,a.getUserAvatar)(t.data.id),uni.setStorageSync("userInfo",t.data)}};(0,o.http_request)(t)}}});t.default=i}).call(this,n("5a52")["default"])},"1ed1":function(e,t,n){"use strict";(function(e){var o=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.http_request=void 0;var a=o(n("df68")),i=o(n("277c")),r=function(t){var n=a.default.restUrl+t.url;t.type||(t.type="get"),void 0!=t.noToast&&0!=t.noToast||uni.showToast({icon:"loading",mask:!0}),0==t.setUpUrl&&(n=t.url),t.token=i.default.getToken(),uni.request({url:n,data:t.data,method:t.type,header:{"content-type":"application/json",Accept:"application/json",Authorization:"Bearer "+t.token},success:function(e){uni.hideToast(),t.sCallback&&t.sCallback(e.data)},fail:function(n){uni.hideToast(),e.log(n),t.eCallback&&t.eCallback(res.data)},complete:function(e){401==e.statusCode&&(uni.removeStorageSync("_token"),uni.showToast({title:"未登陆",icon:"none",success:function(){setTimeout((function(){uni.redirectTo({url:"/pages/my/login"})}),1e3)}}))}})};t.http_request=r}).call(this,n("5a52")["default"])},"277c":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={getToken:function(){var t=uni.getStorageSync("_token");return!t||t.expires_time<Date.parse(new Date)/1e3?(uni.removeStorageSync("_token"),e.log(t.expires_time),e.log(Date.parse(new Date)/1e3),e.log("token过期了"),setTimeout((function(){uni.switchTab({url:"/pages/my/login"})}),100),""):t.token?t.token:(uni.removeStorageSync("_token"),e.log("token 空"),setTimeout((function(){uni.switchTab({url:"/pages/my/login"})}),100),"")}},o=n;t.default=o}).call(this,n("5a52")["default"])},"5df2":function(e,t,n){e.exports=n.p+"static/img/1.773bc5e0.jpg"},"6ad0":function(e,t,n){var o=n("ea97");"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var a=n("4f06").default;a("418910cc",o,!0,{sourceMap:!1,shadowMode:!1})},"86b9":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o}));var o={uIcon:n("8f29").default,uCellGroup:n("5d2d").default,uCellItem:n("091d").default},a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"content"},[n("v-uni-view",{staticClass:"status_bar"}),n("v-uni-view",{staticClass:"header"},[n("v-uni-view",{staticClass:"header_left"},[n("v-uni-image",{attrs:{mode:"aspectFill",src:e.userInfo.avatar}}),n("v-uni-view",{staticClass:"header_left_content"},[n("v-uni-view",{staticClass:"header_left_content_name"},[e._v(e._s(e.userInfo.name))]),n("v-uni-view",{staticClass:"header_left_content_number"},[e._v("邮箱: "+e._s(e.userInfo.email))])],1)],1),n("v-uni-view",{staticClass:"header_right"},[n("u-icon",{attrs:{name:"arrow-right"}})],1)],1),n("v-uni-view",{staticStyle:{height:"10rpx"}}),n("u-cell-group",[n("u-cell-item",{attrs:{title:"退出登录","title-style":{marginLeft:"10rpx"}},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.logout()}}},[n("u-icon",{attrs:{slot:"icon",name:"setting",color:"#409eff",size:"32"},slot:"icon"})],1)],1)],1)},i=[]},"88b3":function(e,t,n){var o={"./1.jpg":"5df2","./2.jpg":"0634","./3.jpg":"bec0","./4.jpg":"98b1"};function a(e){var t=i(e);return n(t)}function i(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}a.keys=function(){return Object.keys(o)},a.resolve=i,e.exports=a,a.id="88b3"},"98b1":function(e,t,n){e.exports=n.p+"static/img/4.04f15fb9.jpg"},a7d5:function(e,t,n){"use strict";var o=n("6ad0"),a=n.n(o);a.a},a9e6:function(e,t,n){"use strict";n("e25e"),Object.defineProperty(t,"__esModule",{value:!0}),t.getUserAvatar=void 0;var o=function(e){var t=parseInt(e)%4;return n("88b3")("./".concat(t,".jpg"))};t.getUserAvatar=o},b512:function(e,t,n){"use strict";(function(e){var o=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.notifyFriend=t.ws_conn=void 0;var a=o(n("277c")),i=o(n("df68")),r=function(){uni.getStorageSync("userInfo")["id"];var t=i.default.wsUrl+"?token=".concat(a.default.getToken());uni.connectSocket({url:t,header:{"content-type":"application/json"},method:"GET",success:function(){},fail:function(){},complete:function(){}}),uni.onSocketOpen((function(t){e.log("WebSocket连接已打开！")})),uni.onSocketError((function(t){e.log("WebSocket连接打开失败，请检查！")})),uni.onSocketClose((function(t){e.log("WebSocket 已关闭！")}))};t.ws_conn=r;var c=function(e){var t=JSON.stringify(e);uni.sendSocketMessage({data:t})};t.notifyFriend=c}).call(this,n("5a52")["default"])},bec0:function(e,t,n){e.exports=n.p+"static/img/3.e831031b.jpg"},c308:function(e,t,n){"use strict";n.r(t);var o=n("1438"),a=n.n(o);for(var i in o)"default"!==i&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t["default"]=a.a},df68:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={restUrl:"http://chat.4yop.com/api/v1/",wsUrl:"ws://115.159.197.138:23460"},a=o;t.default=a},ea97:function(e,t,n){var o=n("24fb");t=o(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.header[data-v-e4dcf9fc]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:%?60?% %?38?%;background-color:#fff}.header_left[data-v-e4dcf9fc]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.header_left_content[data-v-e4dcf9fc]{padding-left:%?20?%}.header_left_content_name[data-v-e4dcf9fc]{font-weight:700}.header_left_content_number[data-v-e4dcf9fc]{color:#969799;font-size:%?26?%}.header_right[data-v-e4dcf9fc]{font-size:%?28?%;color:#969799}.header uni-image[data-v-e4dcf9fc]{width:%?100?%;height:%?100?%;border-radius:%?6?%}.status_bar[data-v-e4dcf9fc]{height:0;width:100%}',""]),e.exports=t},fcd1:function(e,t,n){"use strict";n.r(t);var o=n("86b9"),a=n("c308");for(var i in a)"default"!==i&&function(e){n.d(t,e,(function(){return a[e]}))}(i);n("a7d5");var r,c=n("f0c5"),u=Object(c["a"])(a["default"],o["b"],o["c"],!1,null,"e4dcf9fc",null,!1,o["a"],r);t["default"]=u.exports}}]);